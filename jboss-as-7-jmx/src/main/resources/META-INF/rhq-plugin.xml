<?xml version="1.0" encoding="UTF-8" ?>

<plugin name="JBossAS7JMX"
        displayName="JBoss Application Server 7.x JMX"
        package="org.rhq.plugins.jbossas7jmx"
        description="Supports management of JMX MBeans deployed to AS 7.x servers."
        xmlns="urn:xmlns:rhq-plugin"
        xmlns:c="urn:xmlns:rhq-configuration">

    <depends plugin="JMX" useClasses="true" />

    <server name="JBossAS7JMX"
            discovery="JBossAS7JMXDiscoveryComponent"
            class="JBossAS7JMXComponent"
            description="Container for JMX MBeans deployed to AS7"
            singleton="true"
            classLoader="instance">

        <runs-inside>
            <parent-resource-type name="JBossAS7 Standalone Server" plugin="JBossAS7" />
        </runs-inside>

        <plugin-configuration>
            <c:simple-property name="hostname"
                               type="string"
                               default="127.0.0.1"
                               description="JMX Management IP Address - this is typically the jboss.bind.address.management address. If not specified, the default will be 127.0.0.1." />

            <c:simple-property name="port"
                               type="integer"
                               default="9999"
                               description="JMX Management Port used to communicate with the app server over the JMX protocol. If not specified, the default will be 9999." />

            <c:simple-property name="username"
                               type="string"
                               default="rhqadmin"
                               description="The user that will be logged in when connecting to the JMX management subsystem. If not specified, the default will be 'rhqadmin'" />

            <c:simple-property name="password"
                               type="password"
                               default="rhqadmin"
                               description="The credentials that will be used when logging in to the JMX management subsystem. If not specified, the default will be 'rhqadmin'" />

            <c:simple-property name="clientJarLocation"
                               type="directory"
                               required="true"
                               description="The directory where the AS JMX client jar(s) are located. Whatever jars are located in here are placed in the plugin classloader." />
        </plugin-configuration>

    </server>

    <help>
        <![CDATA[
            <p>This plugin injects a singleton parent resource into an AS7 Server resource that can be used
            to subsequently inject JMX MBean resources for JMX-based management.
            See the rhq-server plugin as an example.</p>
        ]]>
    </help>

</plugin>
